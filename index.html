<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Gift Mini App</title>

  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>

  <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- ================= HOME ================= -->
<div id="home" class="page active">
  <div class="top">
    <div class="userBar">
      <img id="avatar" class="avatar">
      <span id="balance">0.00 TON</span>
    </div>
  </div>

  <!-- ===== КОНТЕЙНЕР ДЛЯ КЕЙСОВ ===== -->
  <div style="
    display: flex;
    gap: 20px;
    margin: 120px 20px 0 20px;
  ">

    <!-- ===== DAILY CASE ===== -->
    <div class="caseBlock" style="margin:0">
      <div class="caseIcon"></div>
      <div class="caseTitle">Daily Case</div>

      <div id="caseAction">
        <button id="openDaily" class="caseBtn">Открыть кейс</button>

        <div id="timerBlock" class="timerBlock" style="display:none;">
          <div id="timerText" class="timerText">23:59:59</div>
        </div>
      </div>
    </div>

    <!-- ===== UNLUCKY CASE ===== -->
    <div class="caseBlock" style="margin:0">
      <div class="caseIcon"></div>
      <div class="caseTitle">Unlucky Case</div>

      <button id="openUnlucky" class="caseBtn">
        Открыть за 0.25 TON
      </button>
    </div>

  </div>
</div>

<!-- ================= PROFILE ================= -->
<div id="profile" class="page">
  <div class="top">
    <div class="userBar">
      <img id="profileAvatar" class="avatar big">
      <span id="balanceProfile">0.00 TON</span>
    </div>
  </div>

  <div id="username"></div>

  <button id="connectWallet">Подключить кошелёк</button>
  <button id="disconnectWallet" style="display:none">Отключить кошелёк</button>

  <button id="deposit">Пополнить баланс</button>
  <button id="openInventory">Инвентарь</button>
</div>

<!-- ================= POPUP ПОПОЛНЕНИЯ ================= -->
<div id="modal" class="modal">
  <div class="modalContent">
    <div class="modalHeader">
      <div>Пополнение</div>
      <button id="closeModal" class="closeBtn">✕</button>
    </div>
    <input id="amount" placeholder="Введите сумму (минимум 0.1)" />
    <button id="pay" class="caseBtn">Оплатить</button>
  </div>
</div>

<!-- ================= SUBSCRIBE ================= -->
<div id="subscribeModal" class="modal subscribeModal">
  <div class="subscribeContent">
    <div class="subscribeText">
      Для открытия кейса нужно подписаться
    </div>
    <button id="subscribeBtn" class="caseBtn">Подписаться</button>
  </div>
</div>

<!-- ================= CASE MODAL ================= -->
<div id="caseModal" class="modal">
  <div class="caseModalContent">
    <div class="caseHeader">
      <div class="caseTitle" id="caseModalTitle">Case</div>
      <button id="closeCase" class="closeBtn">✕</button>
    </div>

    <div class="stripWrap">
      <div id="strip" class="strip"></div>
      <div class="pointer"></div>
    </div>

    <div id="resultText" class="resultText">
      Нажми "Открыть кейс"
    </div>

    <button id="openCaseBtn" class="caseBtn">
      Открыть кейс
    </button>
  </div>
</div>

<!-- ================= REWARD ================= -->
<div id="rewardModal" class="modal">
  <div class="rewardContent">
    <div id="rewardText" class="rewardText"></div>

    <button id="rewardBtnTon" class="caseBtn">Получить TON</button>
    <button id="rewardBtnSell" class="caseBtn">Продать NFT</button>
    <button id="rewardBtnInv" class="caseBtn">В инвентарь</button>
  </div>
</div>

<!-- ================= INVENTORY ================= -->
<div id="inventoryModal" class="modal">
  <div class="inventoryContent">
    <button id="closeInventory" class="closeBtn">✕</button>
    <div id="inventoryList" class="inventoryList"></div>
  </div>
</div>

<!-- ================= NAV ================= -->
<div class="nav">
  <button id="btnHome">Главная</button>
  <button id="btnProfile">Профиль</button>
</div>

<!-- ================= SCRIPTS ================= -->
<script src="main.js"></script>
<script src="case_unlucky.js"></script>

</body>
  </html>
